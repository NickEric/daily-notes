# Rand 包

## 例子

**不设置随机种子**

不设置随机种子,比如下面这个例子

> 每轮10个随机数都是按照 1779185060 这个顺序出现

```go
func randOne() {
   for i := 0; i < 10; i++ {
      fmt.Print(rand.Intn(10))
   }
}
```

说明由默认随机种子生成的随机序列就是`1779185060 `.

**每轮设置同样的种子**

每轮设置同样的种子,例子如下：

> 每轮10个随机数都是按照 4879849558 这个顺序出现

```go
func randTwo() {
	rand.Seed(10)
	for i := 0; i < 10; i++ {
		fmt.Print(rand.Intn(10))
	}
}
```

**每次设置同样的随机种子**

每次设置同样的随机种子，例子如下：

> 每次随机值都为4

```go
func randThree() {
	for i := 0; i < 10; i++ {
		rand.Seed(10)
		fmt.Print(rand.Intn(10))
	}
}
```

根据前面 每轮设置同样的种子 例子可知，对应的随机序列为 4879849558 ，这里每次都设置随机种子，所以每次都是第一次随机，于是都取到了第一个数，即4。



**正确姿势**

想要每次随机值不同，只能每轮设置不同的种子，然后每次随机的时候取随机序列中的不同位置的值。

或者每次随机都设置不同的种子，取随机序列的第一位。

很明显每轮设置不同的种子比较科学。





## 小结

```go
rand.Seed(time.Now().UnixNano())
```

rand.Seed() 方法根据随机种子生成一个随机序列，比如0123456789..

然后每次随机的时候都会从这个序列中取值，比如这里第一次随机值就是0，第二次就是1，以此类推。

指定的种子一致，或者不指定种子(即使用默认值)都会导致生成的随机序列相同。

因此虽然每次遍历的的值不同，但是整个序列必定是相同的。即知道第一个数之后肯定能猜到后续的随机数。



推荐使用方式：

* 1）**全局设定一个随机种子**。这样程序运行时获取到的随机数都是不一样的。重启后设定了另一个随机种子，所以整个随机序列又会不一样了。
* 2）每次都设定不同的随机种子。可以但没必要，如果高并发的情况下可能会出现相同的值。



**建议：程序启动时初始化设定一次随机种子即可，比如直接把当前纳秒时间戳当做随机数种子。**



