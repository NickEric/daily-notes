## 压测相关指标

## 1. 概述

系统吞吐量几个重要參数：QPS（TPS）、并发数、响应时间：



* QPS（TPS）：每秒钟 request/事务数量
* 并发数： 系统同一时候处理的request/事务数
* 响应时间： 一般取平均响应时间

> 非常多人常常会把并发数和TPS理解混淆

理解了上面三个要素的意义之后，就能推算出它们之间的关系：

**QPS（TPS）= 并发数/平均响应时间**   或者  **并发数 = QPS*平均响应时间**



## 2. PV 计算

每秒查询率QPS是对一个特定的查询服务器在规定时间内所处理流量多少的衡量标准，在因特网上，作为域名系统服务器的机器的性能经常用每秒查询率来衡量。



**原理：每天80%的访问集中在20%的时间里，这20%时间叫做峰值时间 **

**公式：( 总PV数 * 80% ) / ( 每天秒数 * 20% ) = 峰值时间每秒请求数(QPS) **

**机器：峰值时间每秒QPS / 单台机器的QPS = 需要的机器 **

每天 300w PV 的在单台机器上，这台机器需要多少 QPS？ 

> ( 3000000 * 0.8 ) / (86400 * 0.2 ) = 139 (QPS) 

如果一台机器的QPS是58，需要几台机器来支持？ 

> 139 / 58 = 3 

反过来也能根据 QPS 计算每日 PV 上限等。